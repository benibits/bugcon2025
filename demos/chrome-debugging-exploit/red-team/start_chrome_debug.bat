@echo off
REM Start Chrome with Remote Debugging Enabled
REM For BugCon 2025 Demo

echo Starting Chrome with debugging enabled on port 9222...
echo.

REM Create temp directory if it doesn't exist
if not exist "C:\temp\chrome-debug" mkdir "C:\temp\chrome-debug"

REM Start Chrome with debugging
REM Note: Using LocalAppData path as fallback for different Chrome installations
if exist "C:\Program Files\Google\Chrome\Application\chrome.exe" (
    start "" "C:\Program Files\Google\Chrome\Application\chrome.exe" --remote-debugging-port=9222 --user-data-dir="C:\temp\chrome-debug" --remote-allow-origins=*
) else if exist "%LOCALAPPDATA%\Google\Chrome\Application\chrome.exe" (
    start "" "%LOCALAPPDATA%\Google\Chrome\Application\chrome.exe" --remote-debugging-port=9222 --user-data-dir="C:\temp\chrome-debug" --remote-allow-origins=*
) else (
    echo ERROR: Chrome not found in standard installation paths!
    echo Please update the path in this script or install Chrome.
    pause
    exit /b 1
)

echo.
echo Chrome should now be running with debugging enabled!
echo You can verify by visiting: http://localhost:9222/json
echo.
echo Press any key to exit this window...
pause >nul